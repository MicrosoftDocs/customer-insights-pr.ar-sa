---
title: تجارب استوديو التعلم الآلي (كلاسيكي)
description: استخدم نماذج استوديو التعلم الآلي (كلاسيكي) في Dynamics 365 Customer Insights.
ms.date: 12/03/2020
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: tutorial
author: m-hartmann
ms.author: mhart
ms.reviewer: ameetj
manager: shellyha
ms.openlocfilehash: 8a861d62bdfee6a3a82468fe1ab4a3fbbdad43d4
ms.sourcegitcommit: 139548f8a2d0f24d54c4a6c404a743eeeb8ef8e0
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 02/15/2021
ms.locfileid: "5270188"
---
# <a name="use-models-based-on-azure-machine-learning-studio-classic"></a><span data-ttu-id="7b351-103">استخدم النماذج استنادًا إلى استوديو التعلم الآلي من Azure (كلاسيكي)‬</span><span class="sxs-lookup"><span data-stu-id="7b351-103">Use models based on Azure Machine Learning Studio (classic)</span></span>

<span data-ttu-id="7b351-104">إن البيانات الموحدة في Dynamics 365 Customer Insights عبارة عن مصدر لبناء نماذج التعلم الآلي التي يمكنها إنشاء المزيد من رؤى الأعمال.</span><span class="sxs-lookup"><span data-stu-id="7b351-104">The unified data in Dynamics 365 Customer Insights is a source for building machine learning models that can generate additional business insights.</span></span> <span data-ttu-id="7b351-105">يتكامل Customer Insights مع استوديو التعلم الآلي (كلاسيكي) لاستخدام نماذجك المخصصة.</span><span class="sxs-lookup"><span data-stu-id="7b351-105">Customer Insights integrates with Machine Learning Studio (classic) to use your own custom models.</span></span> <span data-ttu-id="7b351-106">لمعرفة كيف تتكامل النماذج المطورة في التعلم الآلي من Azure مع Customer Insights، راجع [تجارب التعلم الآلي من Azure](azure-machine-learning-experiments.md).</span><span class="sxs-lookup"><span data-stu-id="7b351-106">To see how models developed in Azure Machine Learning are integrated with Customer Insights, see [Azure Machine Learning experiments](azure-machine-learning-experiments.md).</span></span>

## <a name="prerequisites"></a><span data-ttu-id="7b351-107">المتطلبات الأساسية</span><span class="sxs-lookup"><span data-stu-id="7b351-107">Prerequisites</span></span>

- <span data-ttu-id="7b351-108">الوصول إلى Customer Insights</span><span class="sxs-lookup"><span data-stu-id="7b351-108">Access to Customer Insights</span></span>
- <span data-ttu-id="7b351-109">اشتراك نشط في Azure Enterprise.</span><span class="sxs-lookup"><span data-stu-id="7b351-109">Active Azure Enterprise subscription</span></span>
- [<span data-ttu-id="7b351-110">ملفات تعريف العميل الموحدة</span><span class="sxs-lookup"><span data-stu-id="7b351-110">Unified customer profiles</span></span>](data-unification.md)
- <span data-ttu-id="7b351-111">[تصدير الكيان إلى إعداد تخزين Azure Blob](export-azure-blob-storage.md)</span><span class="sxs-lookup"><span data-stu-id="7b351-111">[Entity export to Azure Blob storage](export-azure-blob-storage.md) set up</span></span>

## <a name="set-up-machine-learning-studio-classic"></a><span data-ttu-id="7b351-112">إعداد استوديو التعلم الآلي (كلاسيكي)</span><span class="sxs-lookup"><span data-stu-id="7b351-112">Set up Machine Learning Studio Classic</span></span>

<span data-ttu-id="7b351-113">في خطوة أولى، يتعين علينا إنشاء مساحة عمل لاستوديو التعلم الآلي (كلاسيكي)‬ وفتحها.</span><span class="sxs-lookup"><span data-stu-id="7b351-113">In a first step, we need to create a workspace for and open the Machine Learning Studio (classic).</span></span>

1. <span data-ttu-id="7b351-114">الانتقال إلى[https://www.portal.azure.com](https://www.portal.azure.com/) وتسجيل الدخول.</span><span class="sxs-lookup"><span data-stu-id="7b351-114">Go to [https://www.portal.azure.com](https://www.portal.azure.com/) and sign in.</span></span>

1. <span data-ttu-id="7b351-115">حدد **إنشاء مورد**.</span><span class="sxs-lookup"><span data-stu-id="7b351-115">Select **Create a resource**.</span></span>

1. <span data-ttu-id="7b351-116">ابحث عن **مساحة عمل Machine Learning Studio** وحدد **إنشاء**.</span><span class="sxs-lookup"><span data-stu-id="7b351-116">Search **Machine Learning Studio Workspace** and select **Create**.</span></span>

1. <span data-ttu-id="7b351-117">أدخل التفاصيل المطلوبة [لإنشاء مساحة العمل](https://docs.microsoft.com/azure/machine-learning/studio/create-workspace).</span><span class="sxs-lookup"><span data-stu-id="7b351-117">Enter the required details to [create the workspace](https://docs.microsoft.com/azure/machine-learning/studio/create-workspace).</span></span> <span data-ttu-id="7b351-118">اختر **طبقة تسعير خطة خدمة الويب** وفقًا لحجم البيانات التي تخطط لاستيرادها.</span><span class="sxs-lookup"><span data-stu-id="7b351-118">Choose the **Web service plan pricing tier** based on the amount of data you plan to import.</span></span> <span data-ttu-id="7b351-119">للحصول على أفضل أداء، حدد **الموقع** الأقرب اليك من الناحية الجغرافية.</span><span class="sxs-lookup"><span data-stu-id="7b351-119">For best performance, select the **Location** that is geographically closest to you.</span></span>

1. <span data-ttu-id="7b351-120">وبعد إنشاء المورد، ستظهر لوحة معلومات مساحة عمل Machine Learning Studio.</span><span class="sxs-lookup"><span data-stu-id="7b351-120">After creating the resource, the Machine Learning Studio workspace dashboard will appear.</span></span> <span data-ttu-id="7b351-121">حدد **تشغيل Machine Learning Studio**.</span><span class="sxs-lookup"><span data-stu-id="7b351-121">Select **Launch Machine Learning Studio**.</span></span>

   ![واجهه مستخدم Azure Machine Learning Studio](media/azure-machine-learning-studio.png)

## <a name="work-with-azure-machine-learning-studio"></a><span data-ttu-id="7b351-123">العمل مع Azure Machine Learning Studio</span><span class="sxs-lookup"><span data-stu-id="7b351-123">Work with Azure Machine Learning Studio</span></span>

<span data-ttu-id="7b351-124">يمكنك الآن إنشاء تجربة جديدة، أو استيراد قالب تجربة موجود من معرض النماذج.</span><span class="sxs-lookup"><span data-stu-id="7b351-124">You can now create a new experiment, or import an existing experiment template from the sample gallery.</span></span> <span data-ttu-id="7b351-125">هناك بعض التجارب النموذجية لثلاثة سيناريوهات قياسية:</span><span class="sxs-lookup"><span data-stu-id="7b351-125">There are sample experiments for three standard scenarios:</span></span>

- [<span data-ttu-id="7b351-126">تنبؤ خسارة العملاء</span><span class="sxs-lookup"><span data-stu-id="7b351-126">Churn prediction</span></span>](#churn-analysis)

- [<span data-ttu-id="7b351-127">قيمة مدة بقاء العميل</span><span class="sxs-lookup"><span data-stu-id="7b351-127">Customer lifetime value</span></span>](#customer-lifetime-value-prediction)

- [<span data-ttu-id="7b351-128">توصيات المنتج أو الاجراء التالي الأفضل</span><span class="sxs-lookup"><span data-stu-id="7b351-128">Product recommendation or next best action</span></span>](#productrecommendation-or-next-best-action)

1. <span data-ttu-id="7b351-129">إذا قمت بإنشاء تجربة جديدة أو استخدام قالب تجربة من المعرض، ستحتاج إلى تكوين خصائص **استيراد البيانات**.</span><span class="sxs-lookup"><span data-stu-id="7b351-129">If you create a new experiment or use an experiment template from the gallery, you need to configure the **Import Data** properties.</span></span> <span data-ttu-id="7b351-130">استخدم التجربة الإرشادية أو قدم التفاصيل مباشرة للوصول إلى مساحة تخزين Azure Blob التي تحتوي على بياناتك.</span><span class="sxs-lookup"><span data-stu-id="7b351-130">Use the guided experience or directly provide details to access the Azure Blob Storage that contains your data.</span></span>  

   ![تجربة Azure Machine Learning Studio](media/azure-machine-learning-studio-experiment.png)

1. <span data-ttu-id="7b351-132">الآن يمكنك إنشاء مسار معالجة مخصص لتنظيف البيانات واجراء المعالجة المسبقة لها، واستخراج ميزات، وتدريب نموذج مناسب.</span><span class="sxs-lookup"><span data-stu-id="7b351-132">Now you can build a custom processing pipeline to clean and preprocess the data, extract features, and train a suitable model.</span></span>

1. <span data-ttu-id="7b351-133">قم باختبار وتحسين أداء النموذج.</span><span class="sxs-lookup"><span data-stu-id="7b351-133">Test and optimize the model performance.</span></span>

1. <span data-ttu-id="7b351-134">عندما تكون راضيًا عن جودة النموذج، قم بتحديد **إعداد خدمة الويب** > **خدمة الويب التنبؤية**.</span><span class="sxs-lookup"><span data-stu-id="7b351-134">When you’re satisfied with the quality of a model, select **Set up web service** > **Predictive Web Service**.</span></span> <span data-ttu-id="7b351-135">ويؤدي هذا الخيار إلى استيراد النموذج المدرب ومسارات معالجة الميزات من التجربة التدريبية إلى الخدمة التنبؤية.</span><span class="sxs-lookup"><span data-stu-id="7b351-135">This option imports the trained model and the featurization pipeline from the training experiment to a predictive service.</span></span> <span data-ttu-id="7b351-136">يمكن للخدمة التنبؤية أن تستخدم مجموعة أخرى من بيانات الإدخال مع المخطط المستخدم في تجربة التدريب لإجراء تنبؤات.</span><span class="sxs-lookup"><span data-stu-id="7b351-136">The predictive service can take another set of input data with the schema used in the training experiment to make predictions.</span></span>

   ![إعداد خدمة ويب تنبؤية](media/predictive-webservice-control.png)

1. <span data-ttu-id="7b351-138">وبمجرد نجاح تجربة خدمة الويب التنبؤية، يمكنك نشرها للجدولة التلقائية.</span><span class="sxs-lookup"><span data-stu-id="7b351-138">Once the predictive web service experiment is successful, you can deploy it for auto scheduling.</span></span> <span data-ttu-id="7b351-139">لجعل خدمة الويب تعمل مع Customer Insights، حدد **نشر خدمة الويب** > **معاينة نشر خدمة ويب [جديدة]**.</span><span class="sxs-lookup"><span data-stu-id="7b351-139">To have the web service work with Customer Insights, select **Deploy Web Service** > **Deploy Web Service [New] Preview**.</span></span> <span data-ttu-id="7b351-140">[معرفة المزيد حول نشر خدمة الويب](https://docs.microsoft.com/azure/machine-learning/studio/deploy-a-machine-learning-web-service).</span><span class="sxs-lookup"><span data-stu-id="7b351-140">[Learn more about deploying a web service](https://docs.microsoft.com/azure/machine-learning/studio/deploy-a-machine-learning-web-service).</span></span>

   ![نشر خدمة ويب تنبؤية](media/predictive-webservice-deploy.png)

## <a name="sample-models-from-the-gallery"></a><span data-ttu-id="7b351-142">عينة نماذج من المعرض</span><span class="sxs-lookup"><span data-stu-id="7b351-142">Sample models from the gallery</span></span>

<span data-ttu-id="7b351-143">سنستخدم سيناريو وهمي لفنادق Contoso للنماذج الموجودة في هذه المقالة.</span><span class="sxs-lookup"><span data-stu-id="7b351-143">We'll use a fictitious scenario of Contoso Hotel for the models in this article.</span></span> <span data-ttu-id="7b351-144">يجمع فندق Contoso البيانات التالية:</span><span class="sxs-lookup"><span data-stu-id="7b351-144">Contoso Hotel gathers the following data:</span></span>

- <span data-ttu-id="7b351-145">تتكون بيانات CRM من نشاط الإقامة في الفندق.</span><span class="sxs-lookup"><span data-stu-id="7b351-145">CRM data consisting of hotel stay activity.</span></span> <span data-ttu-id="7b351-146">تشتمل مجموعة البيانات على معلومات حول تواريخ الإقامة لكل عميل مسجل.</span><span class="sxs-lookup"><span data-stu-id="7b351-146">The data set includes information about the dates of stay for each registered customer.</span></span> <span data-ttu-id="7b351-147">كما أنه يحتوي على معلومات حول الحجز، وأنواع الحجرات، وتفاصيل الإنفاق، وما إلى ذلك.</span><span class="sxs-lookup"><span data-stu-id="7b351-147">It also contains information about the booking, room types, details of spend, and so on.</span></span> <span data-ttu-id="7b351-148">تمتد البيانات لأربع سنوات، من يناير 2014 إلى يناير 2018.</span><span class="sxs-lookup"><span data-stu-id="7b351-148">The data spans four years, from January 2014 to January 2018.</span></span>
- <span data-ttu-id="7b351-149">ملفات تعريف العملاء لنزلاء الفنادق.</span><span class="sxs-lookup"><span data-stu-id="7b351-149">Customer profiles of hotel guests.</span></span> <span data-ttu-id="7b351-150">تحتوي ملفات التعريف هذه على معلومات حول كل عميل، بما في ذلك الاسم وتاريخ الميلاد والعنوان البريدي والنوع ورقم الهاتف.</span><span class="sxs-lookup"><span data-stu-id="7b351-150">These profiles contain information about each customer, including their name, birthdate, postal address, gender, and phone number.</span></span>
- <span data-ttu-id="7b351-151">استخدام الخدمات المقدمة من الفندق، مثل السبا أو المغسلة أو WiFi أو التوصيل.</span><span class="sxs-lookup"><span data-stu-id="7b351-151">Usage of services offered by the hotel, such as the spa, laundry, WiFi, or courier.</span></span> <span data-ttu-id="7b351-152">يتم تسجيل هذه المعلومات لكل عميل تم تسجيله.</span><span class="sxs-lookup"><span data-stu-id="7b351-152">This information is logged for each registered customer.</span></span> <span data-ttu-id="7b351-153">وبشكل نموذجي، يتم ربط استخدام الخدمات مع الإقامة.</span><span class="sxs-lookup"><span data-stu-id="7b351-153">Typically, use of services is linked with the stay.</span></span> <span data-ttu-id="7b351-154">في بعض الحالات، يمكن استخدام الخدمات من قبل العملاء دون الإقامة في الفندق.</span><span class="sxs-lookup"><span data-stu-id="7b351-154">In some cases, services can be used by customers without staying in the hotel.</span></span>

## <a name="churn-analysis"></a><span data-ttu-id="7b351-155">تحليل خسارة العملاء</span><span class="sxs-lookup"><span data-stu-id="7b351-155">Churn Analysis</span></span>

<span data-ttu-id="7b351-156">ينطبق تحليل خسارة العملاء على مناطق الأعمال المختلفة.</span><span class="sxs-lookup"><span data-stu-id="7b351-156">Churn analysis applies to different business areas.</span></span> <span data-ttu-id="7b351-157">في هذا المثال، سنبحث عن خسارة العملاء في الخدمات بشكل خاص في سياق خدمات الفنادق كما هو موضح أعلاه.</span><span class="sxs-lookup"><span data-stu-id="7b351-157">In this example, we’re going to look at service churn, specifically in the context of hotel services as described above.</span></span> <span data-ttu-id="7b351-158">إنه يوفر مثالاً عمليًا بالنسبة لمسار نموذج نهاية إلى نهاية يمكن استخدامه كنقطة بداية لأي نوع آخر من نماذج خسارة العملاء.</span><span class="sxs-lookup"><span data-stu-id="7b351-158">It provides a working example of an end–to–end model pipeline that can be used as a starting point for any other type of churn model.</span></span>

### <a name="definition-of-churn"></a><span data-ttu-id="7b351-159">تعريف خسارة العملاء</span><span class="sxs-lookup"><span data-stu-id="7b351-159">Definition of Churn</span></span>

<span data-ttu-id="7b351-160">يمكن أن يختلف تعريف التغيير على أساس السيناريو.</span><span class="sxs-lookup"><span data-stu-id="7b351-160">The definition of churn can differ based on the scenario.</span></span> <span data-ttu-id="7b351-161">في هذا المثال، يجب تسمية أي نزيل لم يقم بزيارة الفندق في السنه الماضية بأنه من ضمن فئة العملاء الذين تمت خسارتهم.</span><span class="sxs-lookup"><span data-stu-id="7b351-161">In this example, a guest who hasn’t visited the hotel in the past year should be labeled as churned.</span></span>  

<span data-ttu-id="7b351-162">يمكن استيراد قالب التجربة من المعرض.</span><span class="sxs-lookup"><span data-stu-id="7b351-162">The experiment template can be imported from the gallery.</span></span> <span data-ttu-id="7b351-163">أولاً، تأكد من استيراد بيانات **نشاط الإقامة في الفندق** و **بيانات العملاء** و **بيانات استخدام الخدمة** من مساحة تخزين Azure Blob.</span><span class="sxs-lookup"><span data-stu-id="7b351-163">First, ensure that you import the data for **Hotel Stay Activity**, **Customer data**, and **Service Usage Data** from Azure Blob storage.</span></span>

   ![استيراد بيانات لنموذج خسارة العملاء](media/import-data-azure-blob-storage.png)

### <a name="featurization"></a><span data-ttu-id="7b351-165">تحديد الميزات</span><span class="sxs-lookup"><span data-stu-id="7b351-165">Featurization</span></span>

<span data-ttu-id="7b351-166">واستنادًا إلى تعريف خسارة العملاء، نقوم أولا بتعريف الميزات البسيطة التي ستؤثر على التسمية.</span><span class="sxs-lookup"><span data-stu-id="7b351-166">Based on the definition of churn, we first identify the raw features that will influence the label.</span></span> <span data-ttu-id="7b351-167">بعد ذلك، يتم تحويل هذه الميزات البسيطة إلى ميزات رقمية يمكن استخدامها مع نماذج التعلم الآلي.</span><span class="sxs-lookup"><span data-stu-id="7b351-167">Then, we process these raw features into numerical features that can be used with machine learning models.</span></span> <span data-ttu-id="7b351-168">يحدث تكامل البيانات في Customer Insights بحيث يمكننا ضمّ هذه الجداول باستخدام *معرف العميل*.</span><span class="sxs-lookup"><span data-stu-id="7b351-168">Data integration happens in Customer Insights so we can join these tables by using the *Customer ID*.</span></span>

   ![ضم البيانات التي تم استيرادها](media/join-imported-data.png)

<span data-ttu-id="7b351-170">من الممكن أن يكون تحديد الميزات لإنشاء النموذج لتحليل خسارة العملاء مربكًا قليلا.</span><span class="sxs-lookup"><span data-stu-id="7b351-170">The featurization for building the model for churn analysis can be a little tricky.</span></span> <span data-ttu-id="7b351-171">البيانات هي وظيفة الوقت مع نشاط الفندق الجديد المسجل على أساس يومي.</span><span class="sxs-lookup"><span data-stu-id="7b351-171">The data is a function of time with new hotel activity recorded on daily basis.</span></span> <span data-ttu-id="7b351-172">اثناء تحديد الميزات، نحن نرغب في إنشاء ميزات ثابتة من البيانات الديناميكية.</span><span class="sxs-lookup"><span data-stu-id="7b351-172">During featurization, we want to generate static features from the dynamic data.</span></span> <span data-ttu-id="7b351-173">في هذه الحالة، نقوم بإنشاء العديد من الميزات من نشاط الفندق في نافذة منزلقة من سنة واحدة.</span><span class="sxs-lookup"><span data-stu-id="7b351-173">In this case, we generate multiple features from hotel activity with a sliding window of one year.</span></span> <span data-ttu-id="7b351-174">كما نقوم بتوسيع ميزات فئوية مثل نوع الغرفة أو نوع الحجز إلى ميزات منفصلة باستخدام الترميز الفوري.</span><span class="sxs-lookup"><span data-stu-id="7b351-174">We also expand the categorical features like room type or booking type into separate features using one-hot encoding.</span></span>  

<span data-ttu-id="7b351-175">القائمة النهائية للميزات:</span><span class="sxs-lookup"><span data-stu-id="7b351-175">Final list of features:</span></span>

| <span data-ttu-id="7b351-176">**العدد**</span><span class="sxs-lookup"><span data-stu-id="7b351-176">**Number**</span></span>  | <span data-ttu-id="7b351-177">**Original_Column**</span><span class="sxs-lookup"><span data-stu-id="7b351-177">**Original_Column**</span></span>          | <span data-ttu-id="7b351-178">**الميزات المشتقة**</span><span class="sxs-lookup"><span data-stu-id="7b351-178">**Derived Features**</span></span>                                                                                                                      |
|-------------|------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="7b351-179">1</span><span class="sxs-lookup"><span data-stu-id="7b351-179">1</span></span>           | <span data-ttu-id="7b351-180">نوع الغرفة</span><span class="sxs-lookup"><span data-stu-id="7b351-180">Room Type</span></span>                    | <span data-ttu-id="7b351-181">RoomTypeLargeCount, RoomTypeSmallCount</span><span class="sxs-lookup"><span data-stu-id="7b351-181">RoomTypeLargeCount, RoomTypeSmallCount</span></span>                                                                                                    |
| <span data-ttu-id="7b351-182">2</span><span class="sxs-lookup"><span data-stu-id="7b351-182">2</span></span>           | <span data-ttu-id="7b351-183">نوع الحجز</span><span class="sxs-lookup"><span data-stu-id="7b351-183">Booking Type</span></span>                 | <span data-ttu-id="7b351-184">BookingTypeOnlineCount, BookingTypePhoneCallCount</span><span class="sxs-lookup"><span data-stu-id="7b351-184">BookingTypeOnlineCount, BookingTypePhoneCallCount</span></span>                                                                                         |
| <span data-ttu-id="7b351-185">3</span><span class="sxs-lookup"><span data-stu-id="7b351-185">3</span></span>           | <span data-ttu-id="7b351-186">فئة السفر</span><span class="sxs-lookup"><span data-stu-id="7b351-186">Travel Category</span></span>              | <span data-ttu-id="7b351-187">TravelCategoryBusinessCount, TravelCategoryLeisureCount</span><span class="sxs-lookup"><span data-stu-id="7b351-187">TravelCategoryBusinessCount, TravelCategoryLeisureCount</span></span>                                                                                   |
| <span data-ttu-id="7b351-188">4</span><span class="sxs-lookup"><span data-stu-id="7b351-188">4</span></span>           | <span data-ttu-id="7b351-189">الإنفاق بالدولار</span><span class="sxs-lookup"><span data-stu-id="7b351-189">Dollars Spent</span></span>                | <span data-ttu-id="7b351-190">TotalDollarSpent</span><span class="sxs-lookup"><span data-stu-id="7b351-190">TotalDollarSpent</span></span>                                                                                                                          |
| <span data-ttu-id="7b351-191">5</span><span class="sxs-lookup"><span data-stu-id="7b351-191">5</span></span>           | <span data-ttu-id="7b351-192">تواريخ تسجيل الوصول وتسجيل المغادرة</span><span class="sxs-lookup"><span data-stu-id="7b351-192">Check-in and Checkout dates</span></span>  | <span data-ttu-id="7b351-193">StayDayCount, StayDayCount2016, StayDayCount2015, StayDayCount2014, StayCount, StayCount2016.</span><span class="sxs-lookup"><span data-stu-id="7b351-193">StayDayCount, StayDayCount2016, StayDayCount2015, StayDayCount2014, StayCount, StayCount2016.</span></span> <span data-ttu-id="7b351-194">StayCount2015, StayCount2014</span><span class="sxs-lookup"><span data-stu-id="7b351-194">StayCount2015, StayCount2014</span></span>                |
| <span data-ttu-id="7b351-195">6</span><span class="sxs-lookup"><span data-stu-id="7b351-195">6</span></span>           | <span data-ttu-id="7b351-196">استخدام الخدمة</span><span class="sxs-lookup"><span data-stu-id="7b351-196">Service Usage</span></span>                | <span data-ttu-id="7b351-197">UsageTenure, ConciergeUsage, CourierUsage, DryCleaningUsage, GymUsage, PhoneUsage, RestaurantUsage, SpaUsage, TelevisionUsage, WifiUsage</span><span class="sxs-lookup"><span data-stu-id="7b351-197">UsageTenure, ConciergeUsage, CourierUsage, DryCleaningUsage, GymUsage, PhoneUsage, RestaurantUsage, SpaUsage, TelevisionUsage, WifiUsage</span></span>  |

### <a name="model-selection"></a><span data-ttu-id="7b351-198">تحديد النموذج</span><span class="sxs-lookup"><span data-stu-id="7b351-198">Model selection</span></span>

<span data-ttu-id="7b351-199">نحتاج الآن إلى اختيار الخوارزمية المثلى للاستخدام.</span><span class="sxs-lookup"><span data-stu-id="7b351-199">Now we need to choose the optimal algorithm to use.</span></span> <span data-ttu-id="7b351-200">في هذه الحالة، تعتمد معظم الميزات على الميزات الفئوية.</span><span class="sxs-lookup"><span data-stu-id="7b351-200">In this case, most features are based on categorical features.</span></span> <span data-ttu-id="7b351-201">بشكل عام، تعمل النماذج المستندة إلى شجرة القرار بشكل جيد.</span><span class="sxs-lookup"><span data-stu-id="7b351-201">Typically, decision tree–based models work well.</span></span> <span data-ttu-id="7b351-202">إذا كانت هناك ميزات رقمية فقط، فقد تكون الشبكات العصبية خيارًا أفضل.</span><span class="sxs-lookup"><span data-stu-id="7b351-202">If there are only numerical features, neural networks could be a better choice.</span></span> <span data-ttu-id="7b351-203">دعم جهاز متجه للدعم (SVM) أيضا هو مرشح جيد في تلك الحالات، ومع ذلك، فإنه يحتاج إلى قليل من التوليف لاستخراج أفضل أداء.</span><span class="sxs-lookup"><span data-stu-id="7b351-203">Support vector machine (SVM) also is a good candidate in such situations; however, it needs quite a bit of tuning to extract the best performance.</span></span> <span data-ttu-id="7b351-204">نحن نختار **شجرة قرار معززة بفئتين** كأول نموذج من الاختيار متبوعا بـ **SVM بفئتين** باعتباره النموذج الثاني.</span><span class="sxs-lookup"><span data-stu-id="7b351-204">We choose **Two-Class Boosted Decision Tree** as the first model of choice followed by **Two-Class SVM** as the second model.</span></span> <span data-ttu-id="7b351-205">يتيح لك استوديو التعلم الآلي من Azure (كلاسيكي)‬ القيام باختبارات A/B، لذا من المفيد البدء بنموذجين بدلاً من واحد.</span><span class="sxs-lookup"><span data-stu-id="7b351-205">Azure Machine Learning Studio lets you do A/B testing, so it’s beneficial to start with two models rather than one.</span></span>

<span data-ttu-id="7b351-206">تظهر الصورة التالية تدريب النموذج وتدفقات التقييم من Azure Machine Learning Studio:</span><span class="sxs-lookup"><span data-stu-id="7b351-206">The following image shows the model training and evaluation pipeline from Azure Machine Learning Studio:</span></span>

![نموذج خسارة العملاء في Azure Machine Learning Studio](media/azure-machine-learning-model.png)

<span data-ttu-id="7b351-208">كما أننا نقوم بتطبيق تقنية تسمى **أهمية ميزة التبادل**، وهي جانب مهم من تحسين النموذج.</span><span class="sxs-lookup"><span data-stu-id="7b351-208">We also apply a technique called **Permutation Feature Importance**, an important aspect of model optimization.</span></span> <span data-ttu-id="7b351-209">النماذج المضمنة لها تأثير بسيط للغاية على المعارف الدقيقة لأي ميزة محددة في التنبؤ النهائي.</span><span class="sxs-lookup"><span data-stu-id="7b351-209">Built-in models have little to no insight into the impact of any specific feature on the final prediction.</span></span> <span data-ttu-id="7b351-210">وتستخدم حاسبة أهمية الميزة خوارزمية مخصصة لحساب تأثير الميزات الفردية على النتيجة الخاصة بنموذج معين.</span><span class="sxs-lookup"><span data-stu-id="7b351-210">The feature importance calculator uses a custom algorithm to compute the influence of individual features on the outcome for a specific model.</span></span> <span data-ttu-id="7b351-211">تتم تسوية أهمية الميزة بين + 1 إلى-1.</span><span class="sxs-lookup"><span data-stu-id="7b351-211">The feature importance is normalized between +1 to -1.</span></span> <span data-ttu-id="7b351-212">يعني التأثير السلبي أن الميزة المقابلة لها تأثير معاكس على النتيجة ويجب إزالتها من النموذج.</span><span class="sxs-lookup"><span data-stu-id="7b351-212">A negative influence means the corresponding feature has counter-intuitive influence on the outcome and should be removed from the model.</span></span> <span data-ttu-id="7b351-213">يشير التأثير الإيجابي إلى أن الميزة تساهم بدرجة كبيرة في التنبؤ.</span><span class="sxs-lookup"><span data-stu-id="7b351-213">A positive influence indicates the feature is contributing heavily towards the prediction.</span></span> <span data-ttu-id="7b351-214">ولا تعتبر هذه القيم معاملات ارتباط لأنها مقاييس مختلفة.</span><span class="sxs-lookup"><span data-stu-id="7b351-214">These values aren't correlation coefficients as they are different metrics.</span></span> <span data-ttu-id="7b351-215">للحصول علي مزيد من المعلومات، راجع [أهمية ميزة التبادل](https://docs.microsoft.com/azure/machine-learning/studio-module-reference/permutation-feature-importance).</span><span class="sxs-lookup"><span data-stu-id="7b351-215">For more information, see [Permutation Feature Importance](https://docs.microsoft.com/azure/machine-learning/studio-module-reference/permutation-feature-importance).</span></span>

<span data-ttu-id="7b351-216">تتوفر [تجربة خسارة العملاء بالكامل في Azure AI Gallery](https://gallery.azure.ai/Experiment/Hotel-Churn-Predictive-Exp).</span><span class="sxs-lookup"><span data-stu-id="7b351-216">The entire [churn experiment is available in the Azure AI Gallery](https://gallery.azure.ai/Experiment/Hotel-Churn-Predictive-Exp).</span></span>

## <a name="customer-lifetime-value-prediction"></a><span data-ttu-id="7b351-217">تنبؤ قيمة مدة بقاء العميل</span><span class="sxs-lookup"><span data-stu-id="7b351-217">Customer lifetime value prediction</span></span>

<span data-ttu-id="7b351-218">يعتبر حساب قيمة مدة بقاء العميل (CLTV) أحد المقاييس الأساسية التي يمكن للأعمال استخدامها لتقييم العملاء وتقسيمهم إلى شرائح.</span><span class="sxs-lookup"><span data-stu-id="7b351-218">The customer lifetime value (CLTV) calculation is one of the key metrics that a business can use to assess and segment its customers.</span></span> <span data-ttu-id="7b351-219">بالنسبة إلى أعمال الفندق، من المهم معرفة العملاء.</span><span class="sxs-lookup"><span data-stu-id="7b351-219">For the hotel business, it’s critical to know their customers.</span></span> <span data-ttu-id="7b351-220">على سبيل المثال، فهم العوامل التي تشكّل العملاء الجيدين عبارة عن معلومات هامة.</span><span class="sxs-lookup"><span data-stu-id="7b351-220">For example, understanding factors that make up good customers is crucial information.</span></span> <span data-ttu-id="7b351-221">من شأن هذه العوامل أن تساعد إدارة الفنادق على تقييم وتحسين الميزات المطلوبة للتركيز على إرضاء أفضل العملاء لديها.</span><span class="sxs-lookup"><span data-stu-id="7b351-221">It helps the hotel management assess which features they need to focus on and improve to satisfy their high paying customers.</span></span> <span data-ttu-id="7b351-222">يمكن لهذه القرارات أن تؤثر مباشرة على المبيعات والإيرادات.</span><span class="sxs-lookup"><span data-stu-id="7b351-222">These decisions can have a direct impact on sales and earnings.</span></span>  

### <a name="definition-of-cltv"></a><span data-ttu-id="7b351-223">تعريف CLTV</span><span class="sxs-lookup"><span data-stu-id="7b351-223">Definition of CLTV</span></span>

<span data-ttu-id="7b351-224">بالنسبة لهذا المثال، نقوم بتعريف CLTV للعميل كإجمالي المبلغ بالدولار الذي يتوقع أن ينفقه العميل في الأيام الـ 365 القادمة.</span><span class="sxs-lookup"><span data-stu-id="7b351-224">For this example, we define the CLTV of a customer as the total dollar amount the customer is expected to spend in the next 365 days.</span></span> <span data-ttu-id="7b351-225">سنقوم باستخدام البيانات الخاصة بفترة الثلاث سنوات الماضية لكافة العملاء الذين سيقومون بالتنبؤ بهذه القيمة.</span><span class="sxs-lookup"><span data-stu-id="7b351-225">We are going to use the past three years’ worth of data for all customers to predict this value.</span></span>

### <a name="featurization"></a><span data-ttu-id="7b351-226">تحديد الميزات</span><span class="sxs-lookup"><span data-stu-id="7b351-226">Featurization</span></span>

<span data-ttu-id="7b351-227">في هذه الحالة، سيكون تحديد الميزات كسيناريو خسارة العملاء تماما.</span><span class="sxs-lookup"><span data-stu-id="7b351-227">In this case, featurization is going to be quite like the churn scenario.</span></span> <span data-ttu-id="7b351-228">ومع ذلك، تختلف التسميات والقيم التي تم توقعها عن المعرفة أعلاه.</span><span class="sxs-lookup"><span data-stu-id="7b351-228">However, the labels and predicted values are different than defined above.</span></span>

### <a name="model-selection"></a><span data-ttu-id="7b351-229">تحديد النموذج</span><span class="sxs-lookup"><span data-stu-id="7b351-229">Model selection</span></span>

<span data-ttu-id="7b351-230">التنبؤ بقيمة CLTV مشكلة انحدار لأن القيمة التي تم التنبؤ بها وهي عبارة عن متغير مستمر بقيمة موجبة.</span><span class="sxs-lookup"><span data-stu-id="7b351-230">Predicting the CLTV is a regression problem as the predicted value is a positive valued continuous variable.</span></span> <span data-ttu-id="7b351-231">استنادًا إلى خصائص الميزة، نحدد **انحدار شجرة القرار المعززة** كخوارزمية واحدة و **انحدار الشبكة العصبية** في الاعتبار كخوارزمية أخرى لتدريب النموذج.</span><span class="sxs-lookup"><span data-stu-id="7b351-231">Based on the feature properties, we select **Boosted Decision Tree Regression** as one algorithm and **Neural Network Regression** as another algorithm to train the model.</span></span>

## <a name="product-recommendation-or-next-best-action"></a><span data-ttu-id="7b351-232">توصيات المنتج أو الاجراء التالي الأفضل</span><span class="sxs-lookup"><span data-stu-id="7b351-232">Product recommendation or Next Best Action</span></span>

<span data-ttu-id="7b351-233">تتم ترجمة توصيات المنتج الموجودة في سيناريو الفندق على أنها التوصية بخدمات مقدمة من الفندق إلى العملاء.</span><span class="sxs-lookup"><span data-stu-id="7b351-233">Product recommendation in a hotel scenario is interpreted as recommending services offered by the hotel to the customers.</span></span> <span data-ttu-id="7b351-234">الهدف هو اختيار الخدمات المناسبة لعملاء بحيث يكون استخدامها بأفضل صورة.</span><span class="sxs-lookup"><span data-stu-id="7b351-234">The objective is to choose the appropriate services for customers so that their usage is maximized.</span></span> <span data-ttu-id="7b351-235">وهو يشبه توصيات الأفلام لمستخدمي خدمه دفق الفيديو.</span><span class="sxs-lookup"><span data-stu-id="7b351-235">It’s similar to movie recommendations for video streaming service users.</span></span>

### <a name="definition-of-product-recommendation-or-next-best-action"></a><span data-ttu-id="7b351-236">تعريف توصيات المنتج أو الاجراء التالي الأفضل</span><span class="sxs-lookup"><span data-stu-id="7b351-236">Definition of Product Recommendation or Next Best Action</span></span>

<span data-ttu-id="7b351-237">ونقوم بتحديد الهدف على أنه تحقيق أقصى استفادة من المبلغ بالدولار مقابل استخدام الخدمة من خلال تقديم أفضل الخدمات المطابقة لعملاء الفنادق حسب اهتماماتهم.</span><span class="sxs-lookup"><span data-stu-id="7b351-237">We define the goal as maximizing the dollar amount of service usage by offering the best matching services to hotel customers according to their interest.</span></span>

### <a name="featurization"></a><span data-ttu-id="7b351-238">تحديد الميزات</span><span class="sxs-lookup"><span data-stu-id="7b351-238">Featurization</span></span>

<span data-ttu-id="7b351-239">مثل نموذج خسارة العملاء، سنعمل على ضمّ ServiceCustomerID في الفندق إلى CustomerID لبناء التوصيات بشكل متناسق لكل CustomerID.</span><span class="sxs-lookup"><span data-stu-id="7b351-239">Like the churn model, we are joining the hotel ServiceCustomerID with CustomerID in order to build recommendations consistently per CustomerID.</span></span>

![تحديد الميزات لنموذج التوصيات](media/azure-machine-learning-model-featurization.png)

<span data-ttu-id="7b351-241">يتم اشتقاق البيانات من ثلاثة كيانات مختلفة ويتم اشتقاق الميزات منها.</span><span class="sxs-lookup"><span data-stu-id="7b351-241">The data is sourced from three different entities and features are derived from them.</span></span> <span data-ttu-id="7b351-242">ويختلف تحديد الميزات لمشكلة التوصيات مقارنة بسيناريوهات CLTV أو خسارة العملاء.</span><span class="sxs-lookup"><span data-stu-id="7b351-242">The featurization for the problem of recommendation is different compared to churn or CLTV scenarios.</span></span> <span data-ttu-id="7b351-243">يحتاج نموذج التوصيات إلى بيانات إدخال على شكل ثلاث مجموعات من الميزات.</span><span class="sxs-lookup"><span data-stu-id="7b351-243">The recommendation model needs input data in the form of three sets of features.</span></span>

### <a name="model-selection"></a><span data-ttu-id="7b351-244">تحديد النموذج</span><span class="sxs-lookup"><span data-stu-id="7b351-244">Model selection</span></span>

<span data-ttu-id="7b351-245">نحن نتنبأ بالمنتجات أو الخدمات باستخدام الخوارزمية التي تسمي **تدريب Matchbox Recommender** لتدريب نموذج التوصية.</span><span class="sxs-lookup"><span data-stu-id="7b351-245">We predict products or services by using the algorithm called **Train Matchbox Recommender** to train the recommendation model.</span></span>

![خوارزمية توصيات المنتج](media/azure-machine-learning-model-recommendation-algorithm.png)

<span data-ttu-id="7b351-247">وتأخذ منافذ الإدخال الثلاثة نموذج تدريب **Matchbox Recommender** في بيانات استخدام خدمة التدريب، ووصف العميل (الاختياري)، ووصف الخدمة.</span><span class="sxs-lookup"><span data-stu-id="7b351-247">The three input ports for the **Train Matchbox Recommender** model takes in the training service usage data, customer description (optional), and service description.</span></span> <span data-ttu-id="7b351-248">هناك ثلاث طرق مختلفة لتسجيل نقاط النموذج.</span><span class="sxs-lookup"><span data-stu-id="7b351-248">There are three different ways of scoring the model.</span></span> <span data-ttu-id="7b351-249">إحداها هي لتقييم النموذج الذي يتم فيه احتساب نتيجة الربح التراكمي المعياري (NDCG) لتصنيف العناصر المصنفة.</span><span class="sxs-lookup"><span data-stu-id="7b351-249">One is for model evaluation where a Normalized Discounted Cumulative Gain (NDCG) score is calculated to rank the rated items.</span></span> <span data-ttu-id="7b351-250">في هذا التجربة، لدينا مجموع نقاط NDCG يساوي 0.97.</span><span class="sxs-lookup"><span data-stu-id="7b351-250">In this experiment, we have the NDCG score as 0.97.</span></span> <span data-ttu-id="7b351-251">ويقوم الخياران الآخران بتسجيل النموذج في كتالوج الخدمات الموصى بها بأكمله، أو عند التسجيل فقط على العناصر التي لم يستخدمها المستخدمون من قبل.</span><span class="sxs-lookup"><span data-stu-id="7b351-251">The other two options are scoring the model on the entire recommendable service catalog, or scoring only on items that users have not used before.</span></span>

<span data-ttu-id="7b351-252">إذا تعمقنا بالنظر إلى توزيعات التوصيات في كتالوج الخدمة بالكامل، نلاحظ أن الهاتف وWiFi وخدمات التوصيل هي أفضل الخدمات التي ستكون مستحسنة.</span><span class="sxs-lookup"><span data-stu-id="7b351-252">Looking further on the distributions of the recommendations on the entire service catalog, we notice that phone, WiFi, and courier are the top services to be recommended.</span></span> <span data-ttu-id="7b351-253">هذا متسق مع ما عثرنا عليه من توزيع بيانات استهلاك الخدمة:</span><span class="sxs-lookup"><span data-stu-id="7b351-253">This is consistent with what we found from the distributions of the service consumption data:</span></span>

![إخراج نموذج التوصية](media/azure-machine-learning-model-output.png)

<span data-ttu-id="7b351-255">يمكن [الوصول إلى تجربة توصيات المنتج بالكامل في Azure AI Gallery.](https://gallery.azure.ai/Experiment/Recommendation-4)</span><span class="sxs-lookup"><span data-stu-id="7b351-255">The entire [product recommendation experiment can be accessed in Azure AI Gallery.](https://gallery.azure.ai/Experiment/Recommendation-4)</span></span>

## <a name="integrate-custom-models"></a><span data-ttu-id="7b351-256">دمج النماذج المخصصة</span><span class="sxs-lookup"><span data-stu-id="7b351-256">Integrate custom models</span></span>

<span data-ttu-id="7b351-257">لاستخدام هذه التنبؤات في Customer Insights، يتعين عليك **تصدير** التنبؤات مع معرفات العملاء.</span><span class="sxs-lookup"><span data-stu-id="7b351-257">To use these predictions in Customer Insights, you need to **export** the predictions along with the customer IDs.</span></span> <span data-ttu-id="7b351-258">[قم بتصديرها إلى نفس موقع مساحة تخزين Azure Blob نفسها](https://docs.microsoft.com/azure/storage/common/storage-import-export-data-from-blobs) التي تقوم بتصدير البيانات المصدر إليها.</span><span class="sxs-lookup"><span data-stu-id="7b351-258">[Export them to the same Azure Blob storage location](https://docs.microsoft.com/azure/storage/common/storage-import-export-data-from-blobs) that you export the source data to.</span></span> <span data-ttu-id="7b351-259">يمكن جدولة خدمة ويب تنبؤية للتشغيل بانتظام وتحديث النقاط.</span><span class="sxs-lookup"><span data-stu-id="7b351-259">The predictive web service can be scheduled to run regularly and update the scores.</span></span>

<span data-ttu-id="7b351-260">يمكن استخدام البيانات التي يقوم النموذج المخصص بإنشائها لتحسين بيانات العملاء بشكل أكبر.</span><span class="sxs-lookup"><span data-stu-id="7b351-260">Data generated by the custom model can be used to further enrich your customer data.</span></span> <span data-ttu-id="7b351-261">لمزيد من المعلومات، راجع [نماذج التعلم الآلي المخصصة](custom-models.md).</span><span class="sxs-lookup"><span data-stu-id="7b351-261">For more information, see [Custom machine learning models](custom-models.md).</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]