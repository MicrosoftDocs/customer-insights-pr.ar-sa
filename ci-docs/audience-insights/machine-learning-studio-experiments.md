---
title: تجارب استوديو التعلم الآلي (كلاسيكي)
description: استخدم نماذج استوديو التعلم الآلي (كلاسيكي) في Dynamics 365 Customer Insights.
ms.date: 12/03/2020
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: tutorial
author: m-hartmann
ms.author: ameetj
ms.reviewer: mhart
manager: shellyha
ms.openlocfilehash: 71881f7e1f9448fe0a7d6d92b8102b8b42de7c2a
ms.sourcegitcommit: bae40184312ab27b95c140a044875c2daea37951
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 03/15/2021
ms.locfileid: "5598323"
---
# <a name="use-models-based-on-azure-machine-learning-studio-classic"></a>استخدم النماذج استنادًا إلى استوديو التعلم الآلي من Azure (كلاسيكي)‬

إن البيانات الموحدة في Dynamics 365 Customer Insights عبارة عن مصدر لبناء نماذج التعلم الآلي التي يمكنها إنشاء المزيد من رؤى الأعمال. يتكامل Customer Insights مع استوديو التعلم الآلي (كلاسيكي) لاستخدام نماذجك المخصصة. لمعرفة كيف تتكامل النماذج المطورة في التعلم الآلي من Azure مع Customer Insights، راجع [تجارب التعلم الآلي من Azure](azure-machine-learning-experiments.md).

## <a name="prerequisites"></a>المتطلبات الأساسية

- الوصول إلى Customer Insights
- اشتراك نشط في Azure Enterprise.
- [ملفات تعريف العميل الموحدة](data-unification.md)
- [تصدير الكيان إلى إعداد تخزين Azure Blob](export-azure-blob-storage.md)

## <a name="set-up-machine-learning-studio-classic"></a>إعداد استوديو التعلم الآلي (كلاسيكي)

في خطوة أولى، يتعين علينا إنشاء مساحة عمل لاستوديو التعلم الآلي (كلاسيكي)‬ وفتحها.

1. الانتقال إلى[https://www.portal.azure.com](https://www.portal.azure.com/) وتسجيل الدخول.

1. حدد **إنشاء مورد**.

1. ابحث عن **مساحة عمل Machine Learning Studio** وحدد **إنشاء**.

1. أدخل التفاصيل المطلوبة [لإنشاء مساحة العمل](/azure/machine-learning/studio/create-workspace). اختر **طبقة تسعير خطة خدمة الويب** وفقًا لحجم البيانات التي تخطط لاستيرادها. للحصول على أفضل أداء، حدد **الموقع** الأقرب اليك من الناحية الجغرافية.

1. وبعد إنشاء المورد، ستظهر لوحة معلومات مساحة عمل Machine Learning Studio. حدد **تشغيل Machine Learning Studio**.

   ![واجهه مستخدم Azure Machine Learning Studio](media/azure-machine-learning-studio.png)

## <a name="work-with-azure-machine-learning-studio"></a>العمل مع Azure Machine Learning Studio

يمكنك الآن إنشاء تجربة جديدة، أو استيراد قالب تجربة موجود من معرض النماذج. هناك بعض التجارب النموذجية لثلاثة سيناريوهات قياسية:

- [تنبؤ خسارة العملاء](#churn-analysis)

- [قيمة مدة بقاء العميل](#customer-lifetime-value-prediction)

- [توصيات المنتج أو الاجراء التالي الأفضل](#productrecommendation-or-next-best-action)

1. إذا قمت بإنشاء تجربة جديدة أو استخدام قالب تجربة من المعرض، ستحتاج إلى تكوين خصائص **استيراد البيانات**. استخدم التجربة الإرشادية أو قدم التفاصيل مباشرة للوصول إلى مساحة تخزين Azure Blob التي تحتوي على بياناتك.  

   ![تجربة Azure Machine Learning Studio](media/azure-machine-learning-studio-experiment.png)

1. الآن يمكنك إنشاء مسار معالجة مخصص لتنظيف البيانات واجراء المعالجة المسبقة لها، واستخراج ميزات، وتدريب نموذج مناسب.

1. قم باختبار وتحسين أداء النموذج.

1. عندما تكون راضيًا عن جودة النموذج، قم بتحديد **إعداد خدمة الويب** > **خدمة الويب التنبؤية**. ويؤدي هذا الخيار إلى استيراد النموذج المدرب ومسارات معالجة الميزات من التجربة التدريبية إلى الخدمة التنبؤية. يمكن للخدمة التنبؤية أن تستخدم مجموعة أخرى من بيانات الإدخال مع المخطط المستخدم في تجربة التدريب لإجراء تنبؤات.

   ![إعداد خدمة ويب تنبؤية](media/predictive-webservice-control.png)

1. وبمجرد نجاح تجربة خدمة الويب التنبؤية، يمكنك نشرها للجدولة التلقائية. لجعل خدمة الويب تعمل مع Customer Insights، حدد **نشر خدمة الويب** > **معاينة نشر خدمة ويب [جديدة]**. [معرفة المزيد حول نشر خدمة الويب](/azure/machine-learning/studio/deploy-a-machine-learning-web-service).

   ![نشر خدمة ويب تنبؤية](media/predictive-webservice-deploy.png)

## <a name="sample-models-from-the-gallery"></a>عينة نماذج من المعرض

سنستخدم سيناريو وهمي لفنادق Contoso للنماذج الموجودة في هذه المقالة. يجمع فندق Contoso البيانات التالية:

- تتكون بيانات CRM من نشاط الإقامة في الفندق. تشتمل مجموعة البيانات على معلومات حول تواريخ الإقامة لكل عميل مسجل. كما أنه يحتوي على معلومات حول الحجز، وأنواع الحجرات، وتفاصيل الإنفاق، وما إلى ذلك. تمتد البيانات لأربع سنوات، من يناير 2014 إلى يناير 2018.
- ملفات تعريف العملاء لنزلاء الفنادق. تحتوي ملفات التعريف هذه على معلومات حول كل عميل، بما في ذلك الاسم وتاريخ الميلاد والعنوان البريدي والنوع ورقم الهاتف.
- استخدام الخدمات المقدمة من الفندق، مثل السبا أو المغسلة أو WiFi أو التوصيل. يتم تسجيل هذه المعلومات لكل عميل تم تسجيله. وبشكل نموذجي، يتم ربط استخدام الخدمات مع الإقامة. في بعض الحالات، يمكن استخدام الخدمات من قبل العملاء دون الإقامة في الفندق.

## <a name="churn-analysis"></a>تحليل خسارة العملاء

ينطبق تحليل خسارة العملاء على مناطق الأعمال المختلفة. في هذا المثال، سنبحث عن خسارة العملاء في الخدمات بشكل خاص في سياق خدمات الفنادق كما هو موضح أعلاه. إنه يوفر مثالاً عمليًا بالنسبة لمسار نموذج نهاية إلى نهاية يمكن استخدامه كنقطة بداية لأي نوع آخر من نماذج خسارة العملاء.

### <a name="definition-of-churn"></a>تعريف خسارة العملاء

يمكن أن يختلف تعريف التغيير على أساس السيناريو. في هذا المثال، يجب تسمية أي نزيل لم يقم بزيارة الفندق في السنه الماضية بأنه من ضمن فئة العملاء الذين تمت خسارتهم.  

يمكن استيراد قالب التجربة من المعرض. أولاً، تأكد من استيراد بيانات **نشاط الإقامة في الفندق** و **بيانات العملاء** و **بيانات استخدام الخدمة** من مساحة تخزين Azure Blob.

   ![استيراد بيانات لنموذج خسارة العملاء](media/import-data-azure-blob-storage.png)

### <a name="featurization"></a>تحديد الميزات

واستنادًا إلى تعريف خسارة العملاء، نقوم أولا بتعريف الميزات البسيطة التي ستؤثر على التسمية. بعد ذلك، يتم تحويل هذه الميزات البسيطة إلى ميزات رقمية يمكن استخدامها مع نماذج التعلم الآلي. يحدث تكامل البيانات في Customer Insights بحيث يمكننا ضمّ هذه الجداول باستخدام *معرف العميل*.

   ![ضم البيانات التي تم استيرادها](media/join-imported-data.png)

من الممكن أن يكون تحديد الميزات لإنشاء النموذج لتحليل خسارة العملاء مربكًا قليلا. البيانات هي وظيفة الوقت مع نشاط الفندق الجديد المسجل على أساس يومي. اثناء تحديد الميزات، نحن نرغب في إنشاء ميزات ثابتة من البيانات الديناميكية. في هذه الحالة، نقوم بإنشاء العديد من الميزات من نشاط الفندق في نافذة منزلقة من سنة واحدة. كما نقوم بتوسيع ميزات فئوية مثل نوع الغرفة أو نوع الحجز إلى ميزات منفصلة باستخدام الترميز الفوري.  

القائمة النهائية للميزات:

| **العدد**  | **Original_Column**          | **الميزات المشتقة**                                                                                                                      |
|-------------|------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------|
| 1           | نوع الغرفة                    | RoomTypeLargeCount, RoomTypeSmallCount                                                                                                    |
| 2           | نوع الحجز                 | BookingTypeOnlineCount, BookingTypePhoneCallCount                                                                                         |
| 3           | فئة السفر              | TravelCategoryBusinessCount, TravelCategoryLeisureCount                                                                                   |
| 4           | الإنفاق بالدولار                | TotalDollarSpent                                                                                                                          |
| 5           | تواريخ تسجيل الوصول وتسجيل المغادرة  | StayDayCount, StayDayCount2016, StayDayCount2015, StayDayCount2014, StayCount, StayCount2016. StayCount2015, StayCount2014                |
| 6           | استخدام الخدمة                | UsageTenure, ConciergeUsage, CourierUsage, DryCleaningUsage, GymUsage, PhoneUsage, RestaurantUsage, SpaUsage, TelevisionUsage, WifiUsage  |

### <a name="model-selection"></a>تحديد النموذج

نحتاج الآن إلى اختيار الخوارزمية المثلى للاستخدام. في هذه الحالة، تعتمد معظم الميزات على الميزات الفئوية. بشكل عام، تعمل النماذج المستندة إلى شجرة القرار بشكل جيد. إذا كانت هناك ميزات رقمية فقط، فقد تكون الشبكات العصبية خيارًا أفضل. دعم جهاز متجه للدعم (SVM) أيضا هو مرشح جيد في تلك الحالات، ومع ذلك، فإنه يحتاج إلى قليل من التوليف لاستخراج أفضل أداء. نحن نختار **شجرة قرار معززة بفئتين** كأول نموذج من الاختيار متبوعا بـ **SVM بفئتين** باعتباره النموذج الثاني. يتيح لك استوديو التعلم الآلي من Azure (كلاسيكي)‬ القيام باختبارات A/B، لذا من المفيد البدء بنموذجين بدلاً من واحد.

تظهر الصورة التالية تدريب النموذج وتدفقات التقييم من Azure Machine Learning Studio:

![نموذج خسارة العملاء في Azure Machine Learning Studio](media/azure-machine-learning-model.png)

كما أننا نقوم بتطبيق تقنية تسمى **أهمية ميزة التبادل**، وهي جانب مهم من تحسين النموذج. النماذج المضمنة لها تأثير بسيط للغاية على المعارف الدقيقة لأي ميزة محددة في التنبؤ النهائي. وتستخدم حاسبة أهمية الميزة خوارزمية مخصصة لحساب تأثير الميزات الفردية على النتيجة الخاصة بنموذج معين. تتم تسوية أهمية الميزة بين + 1 إلى-1. يعني التأثير السلبي أن الميزة المقابلة لها تأثير معاكس على النتيجة ويجب إزالتها من النموذج. يشير التأثير الإيجابي إلى أن الميزة تساهم بدرجة كبيرة في التنبؤ. ولا تعتبر هذه القيم معاملات ارتباط لأنها مقاييس مختلفة. للحصول علي مزيد من المعلومات، راجع [أهمية ميزة التبادل](/azure/machine-learning/studio-module-reference/permutation-feature-importance).

تتوفر [تجربة خسارة العملاء بالكامل في Azure AI Gallery](https://gallery.azure.ai/Experiment/Hotel-Churn-Predictive-Exp).

## <a name="customer-lifetime-value-prediction"></a>تنبؤ قيمة مدة بقاء العميل

يعتبر حساب قيمة مدة بقاء العميل (CLTV) أحد المقاييس الأساسية التي يمكن للأعمال استخدامها لتقييم العملاء وتقسيمهم إلى شرائح. بالنسبة إلى أعمال الفندق، من المهم معرفة العملاء. على سبيل المثال، فهم العوامل التي تشكّل العملاء الجيدين عبارة عن معلومات هامة. من شأن هذه العوامل أن تساعد إدارة الفنادق على تقييم وتحسين الميزات المطلوبة للتركيز على إرضاء أفضل العملاء لديها. يمكن لهذه القرارات أن تؤثر مباشرة على المبيعات والإيرادات.  

### <a name="definition-of-cltv"></a>تعريف CLTV

بالنسبة لهذا المثال، نقوم بتعريف CLTV للعميل كإجمالي المبلغ بالدولار الذي يتوقع أن ينفقه العميل في الأيام الـ 365 القادمة. سنقوم باستخدام البيانات الخاصة بفترة الثلاث سنوات الماضية لكافة العملاء الذين سيقومون بالتنبؤ بهذه القيمة.

### <a name="featurization"></a>تحديد الميزات

في هذه الحالة، سيكون تحديد الميزات كسيناريو خسارة العملاء تماما. ومع ذلك، تختلف التسميات والقيم التي تم توقعها عن المعرفة أعلاه.

### <a name="model-selection"></a>تحديد النموذج

التنبؤ بقيمة CLTV مشكلة انحدار لأن القيمة التي تم التنبؤ بها وهي عبارة عن متغير مستمر بقيمة موجبة. استنادًا إلى خصائص الميزة، نحدد **انحدار شجرة القرار المعززة** كخوارزمية واحدة و **انحدار الشبكة العصبية** في الاعتبار كخوارزمية أخرى لتدريب النموذج.

## <a name="product-recommendation-or-next-best-action"></a>توصيات المنتج أو الاجراء التالي الأفضل

تتم ترجمة توصيات المنتج الموجودة في سيناريو الفندق على أنها التوصية بخدمات مقدمة من الفندق إلى العملاء. الهدف هو اختيار الخدمات المناسبة لعملاء بحيث يكون استخدامها بأفضل صورة. وهو يشبه توصيات الأفلام لمستخدمي خدمه دفق الفيديو.

### <a name="definition-of-product-recommendation-or-next-best-action"></a>تعريف توصيات المنتج أو الاجراء التالي الأفضل

ونقوم بتحديد الهدف على أنه تحقيق أقصى استفادة من المبلغ بالدولار مقابل استخدام الخدمة من خلال تقديم أفضل الخدمات المطابقة لعملاء الفنادق حسب اهتماماتهم.

### <a name="featurization"></a>تحديد الميزات

مثل نموذج خسارة العملاء، سنعمل على ضمّ ServiceCustomerID في الفندق إلى CustomerID لبناء التوصيات بشكل متناسق لكل CustomerID.

![تحديد الميزات لنموذج التوصيات](media/azure-machine-learning-model-featurization.png)

يتم اشتقاق البيانات من ثلاثة كيانات مختلفة ويتم اشتقاق الميزات منها. ويختلف تحديد الميزات لمشكلة التوصيات مقارنة بسيناريوهات CLTV أو خسارة العملاء. يحتاج نموذج التوصيات إلى بيانات إدخال على شكل ثلاث مجموعات من الميزات.

### <a name="model-selection"></a>تحديد النموذج

نحن نتنبأ بالمنتجات أو الخدمات باستخدام الخوارزمية التي تسمي **تدريب Matchbox Recommender** لتدريب نموذج التوصية.

![خوارزمية توصيات المنتج](media/azure-machine-learning-model-recommendation-algorithm.png)

وتأخذ منافذ الإدخال الثلاثة نموذج تدريب **Matchbox Recommender** في بيانات استخدام خدمة التدريب، ووصف العميل (الاختياري)، ووصف الخدمة. هناك ثلاث طرق مختلفة لتسجيل نقاط النموذج. إحداها هي لتقييم النموذج الذي يتم فيه احتساب نتيجة الربح التراكمي المعياري (NDCG) لتصنيف العناصر المصنفة. في هذا التجربة، لدينا مجموع نقاط NDCG يساوي 0.97. ويقوم الخياران الآخران بتسجيل النموذج في كتالوج الخدمات الموصى بها بأكمله، أو عند التسجيل فقط على العناصر التي لم يستخدمها المستخدمون من قبل.

إذا تعمقنا بالنظر إلى توزيعات التوصيات في كتالوج الخدمة بالكامل، نلاحظ أن الهاتف وWiFi وخدمات التوصيل هي أفضل الخدمات التي ستكون مستحسنة. هذا متسق مع ما عثرنا عليه من توزيع بيانات استهلاك الخدمة:

![إخراج نموذج التوصية](media/azure-machine-learning-model-output.png)

يمكن [الوصول إلى تجربة توصيات المنتج بالكامل في Azure AI Gallery.](https://gallery.azure.ai/Experiment/Recommendation-4)

## <a name="integrate-custom-models"></a>دمج النماذج المخصصة

لاستخدام هذه التنبؤات في Customer Insights، يتعين عليك **تصدير** التنبؤات مع معرفات العملاء. [قم بتصديرها إلى نفس موقع مساحة تخزين Azure Blob نفسها](/azure/storage/common/storage-import-export-data-from-blobs) التي تقوم بتصدير البيانات المصدر إليها. يمكن جدولة خدمة ويب تنبؤية للتشغيل بانتظام وتحديث النقاط.

يمكن استخدام البيانات التي يقوم النموذج المخصص بإنشائها لتحسين بيانات العملاء بشكل أكبر. لمزيد من المعلومات، راجع [نماذج التعلم الآلي المخصصة](custom-models.md).


[!INCLUDE[footer-include](../includes/footer-banner.md)]