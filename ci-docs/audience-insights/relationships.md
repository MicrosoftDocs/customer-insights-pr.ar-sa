---
title: العلاقات بين الكيانات ومسارات الكيانات
description: إنشاء العلاقات بين الكيانات من مصادر بيانات متعددة وإدارتها.
ms.date: 06/01/2020
ms.reviewer: mhart
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: conceptual
author: MichelleDevaney
ms.author: midevane
manager: shellyha
ms.openlocfilehash: 1853fcd8db2918a0b4a19fa0934e2f0ddbcf6d093c85fdf2068a13f954035dec
ms.sourcegitcommit: aa0cfbf6240a9f560e3131bdec63e051a8786dd4
ms.translationtype: HT
ms.contentlocale: ar-SA
ms.lasthandoff: 08/10/2021
ms.locfileid: "7035215"
---
# <a name="relationships-between-entities"></a>العلاقات بين الكيانات

تقوم العلاقات بتوصيل الكيانات وتحدد رسمًا بيانيًا لبياناتك عندما تتشارك الكيانات في معرف عام، وهو مفتاح أجنبي. يمكن الإشارة إلى هذا المفتاح الخارجي من كيان إلى آخر. تمكّن الكيانات المتصلة تعريف الشرائح والمقاييس استنادًا إلى مصادر بيانات متعددة.

هناك ثلاثة أنواع من العلاقات: 
- علاقات النظام غير القابلة للتحرير، التي يقوم النظام بإنشائها النظام كجزء من عملية توحيد البيانات
- العلاقات المتوارثة غير القابلة للتحرير، والتي يتم إنشاؤها بشكل تلقائي نتيجة استيعاب مصادر البيانات 
- العلاقات المخصصة القابلة للتحرير، التي يتم إنشاؤها وتكوينها بواسطة المستخدمين

## <a name="non-editable-system-relationships"></a>علاقات النظام غير القابلة للتحرير

أثناء تحديث البيانات، يتم إنشاء علاقات النظام بشكل تلقائي بالاستناد إلى التطابق الذكي. بإمكان هذه العلاقات أن تساعد على ربط ملف تعريف بالعميل بالسجلات المناظرة. يوضح المخطط التالي إنشاء العلاقات الثلاث القائمة على النظام. تتم مطابقة كيان العميل مع الكيانات الأخرى لإنتاج كيان *العميل* الموحد.

:::image type="content" source="media/relationships-entities-merge.png" alt-text="مخطط مع مسارات علاقات كيان العميل مع ثلاث علاقات واحد إلى متعدد.":::

- تم إنشاء **العلاقة *CustomerToContact*** بين كيان *العميل* وكيان *جهة الاتصال* . يتلقى كيان *العميل*  حقل المفتاح **Contact_contactID** للربط بحقل المفتاح **contactID** للكيان *جهة الاتصال*.
- تم إنشاء العلاقة **العلاقة *CustomerToAccount*** بين كيان *العلاقة* وكيان *الحساب*. يتلقى كيان *العميل* حقل المفتاح **Account_accountID** للربط بحقل المفتاح **accountID** لكيان *الحساب*.
- تم إنشاء **العلاقة *CustomerToWebAccount*** بين كيان *العميل* وكيان *WebAccount* . يتلقى كيان *العميل* حقل المفتاح **WebAccount_webaccountID** لربط مفتاح الحقل **webaccountID** بالكيان *WebAccount*.

## <a name="non-editable-inherited-relationships"></a>العلاقات المتوارثة غير القابلة للتحرير

أثناء عملية استيعاب البيانات، يتحقق النظام من مصادر البيانات للعلاقات الموجودة. في حال عدم وجود علاقات، يقوم النظام بإنشائها تلقائيًا. وتُستخدم هذه العلاقات أيضًا في العمليات النهائية.

## <a name="create-a-custom-relationship"></a>إنشاء علاقة مخصصة

تتكون العلاقة من *كيان مصدر* يحتوي على المفتاح الخارجي، ومن *كيان هدف* يشير إليه المفتاح الخارجي للكيان المصدر. 

1. في رؤى الجمهور، انتقل إلى **البيانات‏‎** > **العلاقات**.

2. حدد **علاقة جديدة**.

3. في الجزء **علاقة جديدة**، أدخل المعلومات التالية:

   :::image type="content" source="media/relationship-add.png" alt-text="الجزء الجانبي للعلاقة الجديدة مع حقول إدخال فارغة.":::

   - **اسم العلاقة**: الاسم الذي يعكس الغرض من العلاقة. مثال: CustomerToSupportCase.
   - **الوصف**: وصف العلاقة.
   - **الكيان المصدر**: الكيان المستخدم كمصدر في العلاقة. مثال: SupportCase.
   - **الكيان الهدف**: الكيان المستخدم كهدف في العلاقة. مثال: العميل.
   - **العلاقة الأساسية للمصدر**: تحديد العلاقة الأساسية للكيان المصدر. تصف العلاقة الأساسية عدد العناصر المحتملة في مجموعة. وهي ترتبط دائمًا بالعلاقة الأساسية الهدف. يمكنك الاختيار بين **واحد** و **متعدد**. لا يتم دعم سوى العلاقات متعدد إلى واحد وواحد إلى واحد فقط.  
     - متعدد إلى واحد: بإمكان سجلا مصدر متعددة أن ترتبط بسجل هدف واحد. مثال: حالات دعم متعددة من عميل واحد.
     - واحد إلى واحد: يرتبط سجل مصدر واحد بسجل هدف واحد. مثال: معرف ولاء واحد لعميل واحد.

     > [!NOTE]
     > يمكن إنشاء علاقات متعدد إلى متعدد باستخدام علاقتين من النوع متعدد إلى واحد وكيان ربط، يقوم بتوصيل الكيان المصدر بالكيان الهدف.

   - **علاقة الهدف الأساسية**: حدد العلاقة الأساسية لسجلات الكيان الهدف. 
   - **حقل المفتاح المصدر**: حقل المفتاح الخارجي في الكيان المصدر. مثال: قد تستخدم SupportCase معرف CaseID كحقل مفتاح خارجي.
   - **حقل المفتاح الهدف**: حقل المفتاح للكيان الهدف. مثال: قد يستخدم العميل مفتاح الحقل **CustomerID**.

4. حدد **حفظ** لإنشاء العلاقة المخصصة.

## <a name="view-relationships"></a>عرض العلاقات

تسرد صفحة العلاقات جميع العلاقات التي تم إنشاؤها. يمثل كل صف علاقة، والتي تتضمن أيضًا تفاصيل حول الكيان المصدر، والكيان الهدف، والعلاقة الأساسية. 

:::image type="content" source="media/relationships-list.png" alt-text="قائمة العلاقات والخيارات في شريط الإجراءات في صفحة العلاقات.":::

توفر هذه الصفحة مجموعة من الخيارات للعلاقات الجديدة والموجودة: 
- **علاقة جديدة**: [إنشاء علاقة مخصصة](#create-a-custom-relationship).
- **المصور المرئي**: [استكشف المصور المرئي للعلاقات](#explore-the-relationship-visualizer) لرؤية مخطط شبكة يتضمن العلاقات الموجودة وعلاقاتها الأساسية.
- **التصفية حسب**: اختر نوع العلاقات لعرضها في القائمة.
- **بحث في العلاقات** : استخدم بحثًا نصيًا على خصائص العلاقات.

### <a name="explore-the-relationship-visualizer"></a>استكشاف المصور المرئي للعلاقات

يعرض المصور المرئي للعلاقات مخطط شبكة يتضمن العلاقات الموجودة بين الكيانات المتصلة وعلاقاتها الأساسية. كما أنه يتصوّر مسار العلاقة.

لتخصيص طريقة العرض، يمكنك تغيير موقع المربعات من خلال سحبها إلى اللوحة.

:::image type="content" source="media/relationship-visualizer.png" alt-text="لقطة شاشة لمخطط شبكة المصور المرئي للعلاقات مع اتصالات بين الكيانات المرتبطة.":::

الخيارات المتوفرة: 
- **تصدير كصورة**: حفظ طريقة العرض الحالية كملف صورة.
- **تغيير إلى تخطيط أفقي/عمودي**: اختر محاذاة الكيانات والعلاقات.
- **تحرير**: تحديث خصائص العلاقات المخصصة في جزء التحرير وحفظ التغييرات.

### <a name="relationship-path"></a>مسار العلاقة

يصف مسار العلاقة الكيانات المتصلة بالعلاقات بين كيان مصدر وكيان هدف. ويتم استخدامه عند إنشاء شريحة أو مقياس يتضمن كيانات أخرى غير كيان ملف التعريف الموحد، وهناك خيارات متعددة للوصول إلى كيان ملف التعريف الموحد.

يقوم مسار العلاقة بإعلام النظام عن العلاقات التي يجب المرور عبرها للوصول إلى كيان ملف التعريف الموحد. قد تؤدي مسارات علاقات مختلفة إلى الحصول على نتائج مختلفة.

على سبيل المثال، يتضمن الكيان *eCommerce_eCommercePurchases* العلاقات التالية بكيان *عميل* ملف التعريف الموحد:

- eCommerce_eCommercePurchases > العميل
- eCommerce_eCommercePurchases > eCommerce_eCommerceContacts > POS_posPurchases > العميل
- eCommerce_eCommercePurchases > eCommerce_eCommerceContacts > POS_posPurchases > loyaltyScheme_loyCustomers > العميل 

يحدد مسار العلاقة الكيانات التي يمكنك استخدامها عند إنشاء قواعد للمقاييس أو الشرائح. من المرجح أن يؤدي تحديد الخيار الذي يتضمن مسار العلاقة الأطول إلى الحصول على نتائج أقل لأن السجلات المتطابقة يجب أن تكون جزءًا من جميع الكيانات. في هذا المثال، يجب على العميل شراء بضائع عبر التجارة الإلكترونية(eCommerce_eCommercePurchases)، وعند نقطة بيع (POS_posPurchases)، والمشاركة في برنامج ولاء (loyaltyScheme_loyCustomers). وعند تحديد الخيار الأول، من المرجح أن تحصل على المزيد من النتائج لأن العملاء يحتاجون فقط إلى الوجود في كيان إضافي واحد.

## <a name="manage-existing-relationships"></a>إدارة العلاقات الموجودة 

في صفحة العلاقات، يتم تمثيل كل علاقة بصف. 

حدد علاقة واختر أحد الخيارات التالية: 
 
- **تحرير**: تحديث خصائص العلاقات المخصصة في جزء التحرير وحفظ التغييرات.
- **حذف**: حذف العلاقات المخصصة.
- **عرض**: عرض العلاقات التي أنشأها النظام والعلاقات المتوارثة. 

## <a name="next-step"></a>الخطوة التالية

تُستخدم علاقات النظام والعلاقات المخصصة بهدف [إنشاء شرائح](segments.md) و[مقاييس](measures.md) بالاستناد إلى مصادر بيانات متعددة لم تعد منعزلة.

[!INCLUDE[footer-include](../includes/footer-banner.md)]
